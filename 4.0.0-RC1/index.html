<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="Burt Beckwith">
<meta name="copyright" content="Apache License, Version 2.0">
<title>Spring Security UI Plugin - Reference Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Spring Security UI Plugin - Reference Documentation</h1>
<div class="details">
<span id="author" class="author">Burt Beckwith</span><br>
<span id="revnumber">version unspecified</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction to the Spring Security UI Plugin</a>
<ul class="sectlevel2">
<li><a href="#installation">1.1. Installation</a></li>
<li><a href="#release-history">1.2. Release History</a></li>
</ul>
</li>
<li><a href="#user">2. User Management</a>
<ul class="sectlevel2">
<li><a href="#user-search">2.1. User search</a></li>
<li><a href="#user-edit">2.2. User edit</a></li>
<li><a href="#user-creation">2.3. User creation</a></li>
</ul>
</li>
<li><a href="#role">3. Role Management</a>
<ul class="sectlevel2">
<li><a href="#role-search">3.1. Role search</a></li>
<li><a href="#role-edit">3.2. Role edit</a></li>
<li><a href="#role-creation">3.3. Role creation</a></li>
</ul>
</li>
<li><a href="#requestmap">4. Requestmap Management</a>
<ul class="sectlevel2">
<li><a href="#requestmap-search">4.1. Requestmap search</a></li>
<li><a href="#requestmap-edit">4.2. Requestmap edit</a></li>
<li><a href="#requestmap-creation">4.3. Requestmap creation</a></li>
</ul>
</li>
<li><a href="#userRegistration">5. User Registration</a>
<ul class="sectlevel2">
<li><a href="#registration">5.1. Registration</a></li>
<li><a href="#configuration">5.2. Configuration</a></li>
</ul>
</li>
<li><a href="#e-mail-validation-parameter">6. E-Mail Validation Parameter</a>
<ul class="sectlevel2">
<li><a href="#mail-configuration">6.1. Mail configuration</a></li>
<li><a href="#notes">6.2. Notes</a></li>
<li><a href="#registrationcode-search">6.3. RegistrationCode search</a></li>
<li><a href="#registrationcode-edit">6.4. RegistrationCode edit</a></li>
</ul>
</li>
<li><a href="#forgotPassword">7. Forgot Password</a>
<ul class="sectlevel2">
<li><a href="#forgot-password">7.1. Forgot Password</a></li>
<li><a href="#configuration-2">7.2. Configuration</a></li>
<li><a href="#email-validation-configuration">7.3. Email Validation Configuration</a></li>
<li><a href="#challenge-questions-configuration">7.4. Challenge Questions Configuration</a></li>
<li><a href="#mail-configuration-2">7.5. Mail configuration</a></li>
<li><a href="#notes-2">7.6. Notes</a></li>
</ul>
</li>
<li><a href="#acls">8. ACL Management</a>
<ul class="sectlevel2">
<li><a href="#aclClass">8.1. AclClass Management</a></li>
<li><a href="#aclSid">8.2. AclSid Management</a></li>
<li><a href="#aclObjectIdentity">8.3. AclObjectIdentity Management</a></li>
<li><a href="#aclEntry">8.4. AclEntry Management</a></li>
</ul>
</li>
<li><a href="#persistentCookie">9. Persistent Cookie Management</a>
<ul class="sectlevel2">
<li><a href="#persistent-logins-search">9.1. Persistent logins search</a></li>
<li><a href="#persistent-logins-edit">9.2. Persistent logins edit</a></li>
<li><a href="#persistent-logins-creation">9.3. Persistent logins creation</a></li>
</ul>
</li>
<li><a href="#configUI">10. Security Configuration UI</a>
<ul class="sectlevel2">
<li><a href="#security-configuration">10.1. Security Configuration</a></li>
<li><a href="#mappings">10.2. Mappings</a></li>
<li><a href="#current-authentication">10.3. Current Authentication</a></li>
<li><a href="#user-cache">10.4. User Cache</a></li>
<li><a href="#filter-chains">10.5. Filter Chains</a></li>
<li><a href="#logout-handlers">10.6. Logout Handlers</a></li>
<li><a href="#voters">10.7. Voters</a></li>
<li><a href="#authentication-providers">10.8. Authentication Providers</a></li>
<li><a href="#secure-channel-definition">10.9. Secure Channel Definition</a></li>
</ul>
</li>
<li><a href="#customization">11. Customization</a>
<ul class="sectlevel2">
<li><a href="#s2ui-override-script">11.1. s2ui-override script</a></li>
<li><a href="#i18n">11.2. I18N</a></li>
<li><a href="#application-groovy-attributes">11.3. application.groovy attributes</a></li>
<li><a href="#css-and-javascript">11.4. CSS and JavaScript</a></li>
<li><a href="#password-hashing">11.5. Password Hashing</a></li>
<li><a href="#password-verification">11.6. Password Verification</a></li>
</ul>
</li>
<li><a href="#scripts">12. Scripts</a>
<ul class="sectlevel2">
<li><a href="#s2ui-override">12.1. s2ui-override</a></li>
<li><a href="#s2ui-create-challenge-questions">12.2. s2ui-create-challenge-questions</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction">1. Introduction to the Spring Security UI Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Spring Security UI plugin provides CRUD screens and other user management workflows.</p>
</div>
<div class="paragraph">
<p>The CRUD screens are protected from cross-site request forgery (CSRF) attacks through the use of the <code>useToken</code> attribute in forms. More information is available at <a href="http://docs.grails.org/latest/guide/theWebLayer.html#formtokens" class="bare">http://docs.grails.org/latest/guide/theWebLayer.html#formtokens</a>.</p>
</div>
<div class="paragraph">
<p>Non-default functionality is available only if the feature is available; this includes the ACL controllers and views which are enabled if the <a href="http://grails.org/plugin/spring-security-acl">ACL plugin</a> is installed, Requestmaps support which is available if <code>grails.plugin.springsecurity.securityConfigType</code> is set to <code>"Requestmap"</code> or <code>SecurityConfigType.Requestmap</code> in <code>application.groovy</code>, and persistent cookies support which is enabled if it has been configured with the <code>s2-create-persistent-token</code> script.</p>
</div>
<div class="sect2">
<h3 id="installation">1.1. Installation</h3>
<div class="paragraph">
<p>Add an entry in the <code>dependencies</code> block of your <code>build.gradle</code> file, changing the version as needed:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.gradle</code></div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">dependencies {
   ...
   compile 'org.grails.plugins:spring-security-ui:4.0.0-RC1'
   ...</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Master branch is for Grails 4, which uses Spring Security 5 and Spring 5
See the spring-security-core plugin for details such as how password encodings have changed (salts).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Version 3.1.x is only compatible with Grails 3.3.x or higher.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For previous Grails 3 versions ( 3.0.x, 3.1.x and 3.2.x ) use:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.gradle</code></div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">dependencies {
   ...
   compile 'org.grails.plugins:spring-security-ui:3.0.2'
   ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also be sure to update the versions when new releases are available.</p>
</div>
</div>
<div class="sect2">
<h3 id="release-history">1.2. Release History</h3>
<div class="ulist">
<ul>
<li>
<p>Apr 9, 2019</p>
<div class="ulist">
<ul>
<li>
<p>4.0.0.M1 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>Feb 14, 2018</p>
<div class="ulist">
<ul>
<li>
<p>3.1.2 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>Sep 27, 2017</p>
<div class="ulist">
<ul>
<li>
<p>3.1.1 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>Sep 26, 2017</p>
<div class="ulist">
<ul>
<li>
<p>3.1.0 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>Jul 28, 2017</p>
<div class="ulist">
<ul>
<li>
<p>3.0.2 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>Jul 27, 2017</p>
<div class="ulist">
<ul>
<li>
<p>3.0.1 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>April 15, 2016</p>
<div class="ulist">
<ul>
<li>
<p>3.0.0.M2 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>December 21, 2015</p>
<div class="ulist">
<ul>
<li>
<p>3.0.0.M1 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>December 21, 2015</p>
<div class="ulist">
<ul>
<li>
<p>1.0-RC3 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>May 20, 2014</p>
<div class="ulist">
<ul>
<li>
<p>1.0-RC2 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>November 11, 2013</p>
<div class="ulist">
<ul>
<li>
<p>1.0-RC1 release</p>
</li>
<li>
<p><a href="http://jira.grails.org/secure/ReleaseNote.jspa?projectId=10233&amp;version=13069">JIRA Issues</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>February 12, 2012</p>
<div class="ulist">
<ul>
<li>
<p>0.2 release</p>
</li>
<li>
<p><a href="http://jira.grails.org/secure/ReleaseNote.jspa?projectId=10233&amp;version=12709">JIRA Issues</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>September 14, 2010</p>
<div class="ulist">
<ul>
<li>
<p>0.1.2 release</p>
</li>
<li>
<p><a href="http://jira.grails.org/secure/ReleaseNote.jspa?projectId=10233&amp;version=11921">JIRA Issues</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>July 27, 2010</p>
<div class="ulist">
<ul>
<li>
<p>0.1.1 release</p>
</li>
</ul>
</div>
</li>
<li>
<p>July 26, 2010</p>
<div class="ulist">
<ul>
<li>
<p>initial 0.1 release</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user">2. User Management</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="user-search">2.1. User search</h3>
<div class="paragraph">
<p>The default action for the User controller is search. By default only the standard fields (<code>username</code>, <code>enabled</code>, <code>accountExpired</code>, <code>accountLocked</code>, and <code>passwordExpired</code>) are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>You can search by any combination of fields, and the <code>username</code> field has an Ajax autocomplete to assist in finding instances. In this screenshot you can see that an <code>email</code> field has been added to the domain class and UI. Leave all fields empty and all checkboxes set at "Either" to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="user_search_start.png" alt="user search start">
</div>
</div>
<div class="paragraph">
<p>This example shows a search for usernames containing 'adm' (the search is case-insensitive and the search string can appear anywhere in the username). Results are shown paginated in groups of 10. All of the column headers are clickable and will sort the results by that field.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="user_search_results.png" alt="user search results">
</div>
</div>
</div>
<div class="sect2">
<h3 id="user-edit">2.2. User edit</h3>
<div class="paragraph">
<p>After clicking through to the 'admin' User you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="user_edit.png" alt="user edit">
</div>
</div>
<div class="paragraph">
<p>You can update any of the attributes or delete the User. You can see that there&#8217;s a "Login as user" button here - that is only shown if you&#8217;re authenticated with a User who is granted <code>ROLE_SWITCH_USER</code> (this role name can be configured in <code>application.groovy</code>):</p>
</div>
<div class="paragraph">
<p>This allows you to temporarily assume the identity of another User (see <a href="https://grails-plugins.github.io/grails-spring-security-core/@VERSION@/index.html#switchUser">the Spring Security Core plugin documentation</a> for more information about switch-user). The "Logged in as &#8230;&#8203;" information in the top right of the screen will change to show that you&#8217;re running as another User and provide a link to switch back. The role name <code>ROLE_SWITCH_USER</code> is the default but you can change the value with the <code>grails.plugin.springsecurity.ui.switchUserRoleName</code> setting in application.groovy.</p>
</div>
<div class="paragraph">
<p>If you click the Roles tab you can see the roles granted to this User and can click through to its edit page:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="user_edit_roles.png" alt="user edit roles">
</div>
</div>
</div>
<div class="sect2">
<h3 id="user-creation">2.3. User creation</h3>
<div class="paragraph">
<p>You can create new Users by going to <code>/user/create</code> or by clicking the <code>Create</code> action in the <code>Users</code> menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="user_create.png" alt="user create">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="role">3. Role Management</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="role-search">3.1. Role search</h3>
<div class="paragraph">
<p>The default action for the Role controller is search. By default only the <code>authority</code> field is available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>The <code>authority</code> field has an Ajax autocomplete to assist in finding instances. Leave the field empty to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="role_search_start.png" alt="role search start">
</div>
</div>
<div class="paragraph">
<p>Search is case-insensitive and the search string can appear anywhere in the name (and you can omit the <code>ROLE_</code> prefix). Results are shown paginated in groups of 10 but if there&#8217;s only one result you&#8217;ll be forwarded to the edit page for that Role. The <code>authority</code> column header is clickable and will sort the results by that field.</p>
</div>
</div>
<div class="sect2">
<h3 id="role-edit">3.2. Role edit</h3>
<div class="paragraph">
<p>After clicking through to a Role you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="role_edit.png" alt="role edit">
</div>
</div>
<div class="paragraph">
<p>You can update any of the attributes or delete the Role. Any user that had been granted the Role will lose the grant but otherwise be unaffected.</p>
</div>
<div class="paragraph">
<p>If you click the Users tab you can see which users have a grant for this Role and can click through to their edit page:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="role_edit_users.png" alt="role edit users">
</div>
</div>
</div>
<div class="sect2">
<h3 id="role-creation">3.3. Role creation</h3>
<div class="paragraph">
<p>You can create new Roles by going to <code>/role/create</code> or by clicking the <code>Create</code> action in the <code>Roles</code> menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="role_create.png" alt="role create">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requestmap">4. Requestmap Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default approach to securing URLs is with annotations, so the Requestmaps menu is only shown if <code>grails.plugin.springsecurity.securityConfigType</code> has the value <code>"Requestmap"</code> or <code>SecurityConfigType.Requestmap</code> in <code>application.groovy</code>.</p>
</div>
<div class="sect2">
<h3 id="requestmap-search">4.1. Requestmap search</h3>
<div class="paragraph">
<p>The default action for the Requestmap controller is search. By default only the standard fields (<code>url</code> and <code>configAttribute</code>) are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>You can search by any combination of fields, and the <code>url</code> and <code>configAttribute</code> fields have an Ajax autocomplete to assist in finding instances. Leave both fields empty to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="requestmap_search_start.png" alt="requestmap search start">
</div>
</div>
<div class="paragraph">
<p>Searching is case-insensitive and the search string can appear anywhere in the field. Results are shown paginated in groups of 10 and you can click on either header to sort by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="requestmap_search_results.png" alt="requestmap search results">
</div>
</div>
</div>
<div class="sect2">
<h3 id="requestmap-edit">4.2. Requestmap edit</h3>
<div class="paragraph">
<p>After clicking through to a Requestmap you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="requestmap_edit.png" alt="requestmap edit">
</div>
</div>
<div class="paragraph">
<p>You can update any of the attributes or delete the Requestmap. Editing or deleting a Requestmap resets the cache of loaded instances, so your changes will take effect immediately.</p>
</div>
</div>
<div class="sect2">
<h3 id="requestmap-creation">4.3. Requestmap creation</h3>
<div class="paragraph">
<p>You can create new Requestmaps by going to <code>/requestmap/create</code> or by clicking the <code>Create</code> action in the <code>Requestmaps</code> menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="requestmap_create.png" alt="requestmap create">
</div>
</div>
<div class="paragraph">
<p>Creating a Requestmap resets the cache of loaded instances, so your changes will take effect immediately.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="userRegistration">5. User Registration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most of the plugin&#8217;s controllers are intended to be part of a backend admin application, but the Registration and Forgot Password workflows are expected to be user-facing. So they&#8217;re not available in the admin menu like the User, Role, and other backend functionality - you&#8217;ll need to expose them to your users.</p>
</div>
<div class="paragraph">
<p>One way to do this is to replace the default <code>login.gsp</code> that&#8217;s provided by the Spring Security Core plugin with this plugin&#8217;s version. You can do this by running <code>grails s2ui-override auth</code> - <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details. If you do this your users will have links to both workflows from the login screen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="login.png" alt="login">
</div>
</div>
<div class="sect2">
<h3 id="registration">5.1. Registration</h3>
<div class="paragraph">
<p>Navigate to <code>/register/</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="register_start.png" alt="register start">
</div>
</div>
<div class="paragraph">
<p>By default e-mail validation for user creation is turned on.  If you wish to turn it off see the 'E-Mail Validation Parameter' section below.
If this is turned off then no e-mail is sent to the user and they are automatically redirected to the link that would have been sent in the e-mail.</p>
</div>
<div class="paragraph">
<p>After filling out valid values an email will be sent and you&#8217;ll see a success screen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="register_sent.png" alt="register sent">
</div>
</div>
<div class="paragraph">
<p>Click on the link in the email:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="register_email.png" alt="register email">
</div>
</div>
<div class="paragraph">
<p>and you&#8217;ll finalize the process, which involves enabling the locked user and pre-authenticating, then redirecting to the configured destination:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="register_final.png" alt="register final">
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration">5.2. Configuration</h3>
<div class="paragraph">
<p>The post-registration destination url is configurable in <code>grails-app/conf/application.groovy</code> using the <code>postRegisterUrl</code> attribute:</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t specify a value then the <code>grails.plugin.springsecurity.successHandler.defaultTargetUrl</code> value will be used, which is <code>'/'</code> by default.</p>
</div>
<div class="paragraph">
<p>In addition, each new user will be granted <code>ROLE_USER</code> after finalizing the registration. If you want to change the default role, add more, or grant no roles at all (for example if you want an admin to approve new users and explicitly enable new users) then you can customize that with the <code>defaultRoleNames</code> attribute (which is a List of Strings):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.register.postRegisterUrl = '/welcome'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="e-mail-validation-parameter">6. E-Mail Validation Parameter</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can customize if the user should get e-mail for validation before they can log in for the first time.  To turn off
e-mail validation set the parameter <code>requireEmailValidation</code> to false, if not set it will default to true.  This
can be set in <code>grails-app/conf/application.groovy</code> or <code>grails-app/conf/application.yml</code> under</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.register.requireEmailValidation = false</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Please Note if you turn off e-mail validation in production it is strongly recommended to have additional user creation validation</strong></p>
</div>
<div class="sect2">
<h3 id="mail-configuration">6.1. Mail configuration</h3>
<div class="paragraph">
<p>By default the plugin uses the <a href="http://grails.org/plugin/mail">Mail</a> plugin to send emails, but only if it is installed. This is configurable by registering your own <code>MailStrategy</code> implementation - see the section on <a href="#configuration">Configuration</a> for more information. The plugin assumes that the Mail plugin and an SMTP server are already configured.</p>
</div>
<div class="paragraph">
<p>You can customize the subject, body, and from address of the registration email by overriding the default values in <code>grails-app/conf/application.groovy</code>, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.register.emailBody = '...'
grails.plugin.springsecurity.ui.register.emailFrom = '...'
grails.plugin.springsecurity.ui.register.emailSubject = '...'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>emailBody</code> property should be a GString and will have the User domain class instance in scope in the <code>user</code> variable, and the generated url to click to finalize the signup in the <code>url</code> variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.register.defaultRoleNames = [] // no roles</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.register.defaultRoleNames = ['ROLE_CUSTOMER']</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="notes">6.2. Notes</h3>
<div class="paragraph">
<p>You should consider the registration code as starter code - every signup workflow will be different, and this should help you get going but is unlikely to be sufficient. You may wish to collect more information than just username and email - first and last name for example. Run <code>grails s2ui-override register</code> to copy the registration controller and GSPs into your application to be customized.</p>
</div>
<div class="paragraph">
<p>If there are unexpected validation errors during registration (which can happen when there is a disconnect between the domain classes and the code in <code>RegisterController</code> they will be logged at the <code>warn</code> or <code>error</code> level, so enable logging to ensure that you see the messages, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">...
logger 'grails.plugin.springsecurity.ui.SpringSecurityUiService', WARN
...</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>RegisterController</code> and its GSPs assume that your User domain class has an <code>email</code> field. Be sure to either rework the workflow (using the <code>s2ui-override</code> script) if you don&#8217;t need an email confirmation step or add an email field.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="registrationcode-search">6.3. RegistrationCode search</h3>
<div class="paragraph">
<p>The plugin uses its <code>grails.plugin.springsecurity.ui.RegistrationCode</code> domain class to store a token associated with the new users' username for use when finishing the registration process after the user clicks the link in the generated email (and also as part of the forgot-password workflow). The plugin includes a controller and GSPs to manage these instances.</p>
</div>
<div class="paragraph">
<p>The default action for the RegistrationCode controller is search. By default only the standard fields (<code>username</code> and <code>token</code>) are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>You can search by any combination of fields, and both fields have an Ajax autocomplete to assist in finding instances. Leave both fields empty to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="registration_code_search_start.png" alt="registration code search start">
</div>
</div>
<div class="paragraph">
<p>Searching is case-insensitive and the search string can appear anywhere in the field. Results are shown paginated in groups of 10 and you can click on any header to sort by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="registration_code_search_results.png" alt="registration code search results">
</div>
</div>
</div>
<div class="sect2">
<h3 id="registrationcode-edit">6.4. RegistrationCode edit</h3>
<div class="paragraph">
<p>After clicking through to a RegistrationCode you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="registration_code_edit.png" alt="registration code edit">
</div>
</div>
<div class="paragraph">
<p>You can update the <code>username</code> or <code>token</code> attribute or delete the RegistrationCode.</p>
</div>
<div class="paragraph">
<p>Since instances are created during the "User Registration" and "Forgot Password" workflows, there is no functionality in this plugin to create new instances.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="forgotPassword">7. Forgot Password</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Like the Registration workflow, the Forgot Password workflow is expected to be user-facing. So it&#8217;s not available in the admin menu like the User, Role, and other backend functionality - you&#8217;ll need to expose them to your users.</p>
</div>
<div class="paragraph">
<p>One way to do this is to replace the default <code>login.gsp</code> that&#8217;s provided by the Spring Security Core plugin with this plugin&#8217;s version. You can do this by running <code>grails s2ui-override auth</code> - see the section on <a href="#customization">Customization</a> for more details. If you do this your users will have links to both workflows from the login screen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="login.png" alt="login">
</div>
</div>
<div class="sect2">
<h3 id="forgot-password">7.1. Forgot Password</h3>
<div class="paragraph">
<p>Navigate to <code>/register/forgotPassword</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="forgot_password_start.png" alt="forgot password start">
</div>
</div>
<div class="paragraph">
<p>The default is to have e-mail validation for forgetting a password.  This is now configurable which will be explained below.</p>
</div>
<div class="paragraph">
<p>After entering a valid username an email will be sent and you&#8217;ll see a success screen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="forgot_password_sent.png" alt="forgot password sent">
</div>
</div>
<div class="paragraph">
<p>Click on the link in the email:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="forgot_password_email.png" alt="forgot password email">
</div>
</div>
<div class="paragraph">
<p>and you&#8217;ll open the reset password form:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="forgot_password_form.png" alt="forgot password form">
</div>
</div>
<div class="paragraph">
<p>After entering a valid password you&#8217;ll finalize the process, which involves storing the new password hashed in the user table and pre-authenticating, then redirecting to the configured destination:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="forgot_password_final.png" alt="forgot password final">
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-2">7.2. Configuration</h3>
<div class="paragraph">
<p>The post-reset destination url is configurable in <code>grails-app/conf/application.groovy</code> using the <code>postResetUrl</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.forgotPassword.postResetUrl = '/reset'</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t specify a value then the <code>defaultTargetUrl</code> value will be used, which is <code>'/'</code> by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="email-validation-configuration">7.3. Email Validation Configuration</h3>
<div class="paragraph">
<p>You can customize if you want to have the user get e-mails for validation before they can reset their password.  To turn off
e-mail validation set the parameter <code>requireForgotPassEmailValidation</code> to false.  If not set it will default to true.  This
can be set in <code>grails-app/conf/application.groovy</code> or <code>grails-app/conf/application.yml</code> under</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.forgotPassword.requireForgotPassEmailValidation = false</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>If e-mail validation is turned off, it is recommended to use the forgotPasswordExtraValidation below.</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="challenge-questions-configuration">7.4. Challenge Questions Configuration</h3>
<div class="paragraph">
<p>It is recommended the provided script named <code>s2ui-create-challenge-questions</code> be used to generate challenge questions.</p>
</div>
<div class="paragraph">
<p>All the answers will be encrypted and it will use the same encryption settings as the what is used to store the password
for each user.  The service to handle this listener is automatically created and configured when
you use the plugin.</p>
</div>
<div class="paragraph">
<p>The option to add challenge questions can be turned on will work independent of e-mail validation.  If the e-mail validation is turned on this step will occur before the e-mail is sent out.</p>
</div>
<div class="paragraph">
<p>To make this work, the domain object must have a link to your User Object. This is done by setting the <code>validationUserLookUpProperty</code> which defaults to 'user'.</p>
</div>
<div class="paragraph">
<p>This can be customized in either <code>grails-app/conf/application.groovy</code> or <code>grails-app/conf/application.yml</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.forgotPassword.validationUserLookUpProperty = 'user'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each list item in the <code>forgotPasswordExtraValidation</code> has three options, though each should only have two.  If you have both
<code>labelDomain</code> and <code>labelMessage</code> then <code>labelDomain</code> will be used as it takes precedences.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. forgotPasswordExtraValidation List items</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Header 1</th>
<th class="tableblock halign-left valign-top">Header 2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">labelDomain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the property in the domain object that will used to ask the question</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">labelMessage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If labelDomain is not present then this can be used as a message property to ask a question (ie if your questions are static).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is used as the property of the domain object to determine if the answer is correct.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This can be customized in either <code>grails-app/conf/application.groovy</code> or <code>grails-app/conf/application.yml</code></p>
</div>
<div class="listingblock">
<div class="title">grails-app/conf/application.yml</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails:
  plugin:
    springsecurity:
     ui:
      forgotPassword:
         forgotPasswordExtraValidation:
            -
               labelDomain: myQuestion
               prop: myAnswer
            -
               labelMessage: securityvalidations.labelMessage.label1
               prop: myAnswer2</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the above is configured you will see a menu item to List and Create Challenge questions for each
user.</p>
</div>
<div class="paragraph">
<p>To use the challenge questions functionality please set the domain class which will hold the answers with the
<code>forgotPasswordExtraValidationDomainClassName</code> property.  This is Domain object that contains any reference that is needed by prop (question) and labelDomain (answer).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>grails:
  plugin:
    springsecurity:
     ui:
      forgotPassword:
          forgotPasswordExtraValidationDomainClassName: com.mycompany.Profile</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mail-configuration-2">7.5. Mail configuration</h3>
<div class="paragraph">
<p>By default the plugin uses the <a href="http://grails.org/plugin/mail">Mail</a> plugin to send emails, but only if it is installed. This is configurable by registering your own <code>MailStrategy</code> implementation - see the section on <a href="#configuration">Configuration</a> for more information. The plugin assumes that the Mail plugin and an SMTP server are already configured.</p>
</div>
<div class="paragraph">
<p>You can customize the subject, body, and from address of the reset email by overriding the default values in <code>grails-app/conf/application.groovy</code>, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.forgotPassword.emailBody = '...'
grails.plugin.springsecurity.ui.forgotPassword.emailFrom = '...'
grails.plugin.springsecurity.ui.forgotPassword.emailSubject = '...'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>emailBody</code> property should be a GString and will have the User domain class instance in scope in the <code>user</code> variable, and the generated url to click to reset the password in the <code>url</code> variable.</p>
</div>
</div>
<div class="sect2">
<h3 id="notes-2">7.6. Notes</h3>
<div class="paragraph">
<p>Like the registration code, consider this workflow as starter code. Run <code>grails s2ui-override register</code> to copy the registration controller and GSPs into your application to be customized.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>RegisterController</code> and its GSPs assume that your User domain class has an <code>email</code> field.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="acls">8. ACL Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ACL management should be done using the API exposed by <code>AclService</code> and <code>AclUtilService</code>. Both services have a much more intuitive and convenient high-level approach to managing ACLs, ACEs, etc. The functionality in this plugin is to provide a CRUD interface for fine-grained ACL management.</p>
</div>
<div class="paragraph">
<p>The ACL menu is only available if the <a href="http://grails.org/plugin/spring-security-acl">ACL plugin</a> is installed.</p>
</div>
<div class="sect2">
<h3 id="aclClass">8.1. AclClass Management</h3>
<div class="paragraph">
<p>The default action for the AclClass controller is search. By default only the standard fields are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>The <code>className</code> field has an Ajax autocomplete to assist in finding instances. Leave the field empty to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_class_search_start.png" alt="acl class search start">
</div>
</div>
<div class="paragraph">
<p>Searching is case-insensitive and the search string can appear anywhere in the field. Results are shown paginated in groups of 10 and you can click on the <code>className</code> column header to sort the results by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_class_search_results.png" alt="acl class search results">
</div>
</div>
<div class="sect3">
<h4 id="aclclass-edit">8.1.1. AclClass Edit</h4>
<div class="paragraph">
<p>After clicking through an AclClass you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_class_edit.png" alt="acl class edit">
</div>
</div>
<div class="paragraph">
<p>You can update the name, and delete the instance if there aren&#8217;t any associated <code>AclObjectIdentity</code> or <code>AclEntry</code> instances - by default there is no support for cascading.</p>
</div>
<div class="paragraph">
<p>You can also see the associated <code>AclObjectIdentity</code> instances (OIDs) or <code>AclEntry</code> instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="aclclass-create">8.1.2. AclClass Create</h4>
<div class="paragraph">
<p>You can create new instances by going to <code>/aclClass/create</code> or by clicking the <code>Create</code> action in the <code>Class</code> menu under <code>ACL</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_class_create.png" alt="acl class create">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aclSid">8.2. AclSid Management</h3>
<div class="paragraph">
<p>The default action for the AclSid controller is search. By default only the standard fields are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>The <code>sid</code> field has an Ajax autocomplete to assist in finding instances. Leave the field empty and <code>principal</code> set to Either to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_sid_search_start.png" alt="acl sid search start">
</div>
</div>
<div class="paragraph">
<p>Results are shown paginated in groups of 10. The column headers are clickable and will sort the results by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_sid_search_results.png" alt="acl sid search results">
</div>
</div>
<div class="sect3">
<h4 id="aclsid-edit">8.2.1. AclSid Edit</h4>
<div class="paragraph">
<p>After clicking through to a sid you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_sid_edit.png" alt="acl sid edit">
</div>
</div>
<div class="paragraph">
<p>You can update the name and whether it&#8217;s a Principal sid or a Role sid, and delete the instance if there aren&#8217;t any associated <code>AclObjectIdentity</code> or <code>AclEntry</code> instances - by default there is no support for cascading.</p>
</div>
<div class="paragraph">
<p>You can also see the associated <code>AclObjectIdentity</code> instances (OIDs) or <code>AclEntry</code> instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="aclsid-create">8.2.2. AclSid Create</h4>
<div class="paragraph">
<p>You can create new instances by going to <code>/aclSid/create</code> or by clicking the <code>Create</code> action in the <code>SID</code> menu under <code>ACL</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_sid_create.png" alt="acl sid create">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aclObjectIdentity">8.3. AclObjectIdentity Management</h3>
<div class="paragraph">
<p>The default action for the AclObjectIdentity controller is search. By default only the standard fields are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>Leave all fields at their default values to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_oid_search_start.png" alt="acl oid search start">
</div>
</div>
<div class="paragraph">
<p>Results are shown paginated in groups of 10 and you can click on any header to sort by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_oid_search_results.png" alt="acl oid search results">
</div>
</div>
<div class="sect3">
<h4 id="aclobjectidentity-edit">8.3.1. AclObjectIdentity Edit</h4>
<div class="paragraph">
<p>After clicking through to an AclObjectIdentity you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_oid_edit.png" alt="acl oid edit">
</div>
</div>
<div class="paragraph">
<p>You can update any of the attributes, and can delete the instance if there aren&#8217;t any associated <code>AclEntry</code> instances - by default there is no support for cascading.</p>
</div>
<div class="paragraph">
<p>You can also see the associated <code>AclEntry</code> instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="aclobjectidentity-create">8.3.2. AclObjectIdentity Create</h4>
<div class="paragraph">
<p>You can create new instances by going to <code>/aclObjectIdentity/create</code> or by clicking the <code>Create</code> action in the <code>OID</code> menu under <code>ACL</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_oid_create.png" alt="acl oid create">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aclEntry">8.4. AclEntry Management</h3>
<div class="paragraph">
<p>The default action for the AclEntry controller is search. By default only the standard fields are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>Leave all fields at their default values to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_entry_search_start.png" alt="acl entry search start">
</div>
</div>
<div class="paragraph">
<p>Results are shown paginated in groups of 10 and you can click on any header to sort by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_entry_search_results.png" alt="acl entry search results">
</div>
</div>
<div class="sect3">
<h4 id="aclentry-edit">8.4.1. AclEntry Edit</h4>
<div class="paragraph">
<p>After clicking through to an AclEntry you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_entry_edit.png" alt="acl entry edit">
</div>
</div>
<div class="paragraph">
<p>You can update any of the attributes or delete the AclEntry.</p>
</div>
</div>
<div class="sect3">
<h4 id="aclentry-create">8.4.2. AclEntry Create</h4>
<div class="paragraph">
<p>You can create new instances by going to <code>/aclEntry/create</code> or by clicking the <code>Create</code> action in the <code>Entry</code> menu under <code>ACL</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="acls/acl_entry_create.png" alt="acl entry create">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="persistentCookie">9. Persistent Cookie Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Persistent cookies aren&#8217;t enabled by default - you must enable them by running the <code>s2-create-persistent-token</code> script. See <a href="https://grails-plugins.github.io/grails-spring-security-core/@VERSION@/index.html#rememberMeCookie">the Spring Security Core plugin documentation</a> for details about this feature.</p>
</div>
<div class="paragraph">
<p>The Persistent Logins menu is only shown if this feature is enabled.</p>
</div>
<div class="sect2">
<h3 id="persistent-logins-search">9.1. Persistent logins search</h3>
<div class="paragraph">
<p>The default action for the PersistentLogin controller is search. By default only the standard fields (<code>username</code>, <code>token</code>, and <code>series</code>) are available but this is customizable with the <a href="#s2ui-override">s2ui-override</a> script - see the <a href="#customization">Customization</a> section for details.</p>
</div>
<div class="paragraph">
<p>You can search by any combination of fields, and all fields have an Ajax autocomplete to assist in finding instances. Leave all fields empty to return all instances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="persistent_login_search.png" alt="persistent login search">
</div>
</div>
<div class="paragraph">
<p>Searching is case-insensitive and the search string can appear anywhere in the field. Results are shown paginated in groups of 10 and you can click on any header to sort by that field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="persistent_login_search_results.png" alt="persistent login search results">
</div>
</div>
</div>
<div class="sect2">
<h3 id="persistent-logins-edit">9.2. Persistent logins edit</h3>
<div class="paragraph">
<p>After clicking through to an instance you get to the edit page (there are no view pages):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="persistent_login_edit.png" alt="persistent login edit">
</div>
</div>
<div class="paragraph">
<p>You can update the <code>token</code> or <code>lastUsed</code> attribute or delete the instance.</p>
</div>
</div>
<div class="sect2">
<h3 id="persistent-logins-creation">9.3. Persistent logins creation</h3>
<div class="paragraph">
<p>Since instances are created during authentication by the spring-security-core plugin, there is no functionality in this plugin to create new instances.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configUI">10. Security Configuration UI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Security Info menu has links for several pages that contain read-only views of much of the Spring Security configuration:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_menu.png" alt="security info menu">
</div>
</div>
<div class="sect2">
<h3 id="security-configuration">10.1. Security Configuration</h3>
<div class="paragraph">
<p>The Security Configuration menu item displays all security-related attributes in <code>application.groovy</code>. The names omit the <code>grails.plugin.springsecurity</code> prefix:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_config.png" alt="security info config">
</div>
</div>
</div>
<div class="sect2">
<h3 id="mappings">10.2. Mappings</h3>
<div class="paragraph">
<p>The Mappings menu item displays the current request mapping mode (Annotation, Requestmap, or Static) and all current mappings:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_mappings.png" alt="security info mappings">
</div>
</div>
</div>
<div class="sect2">
<h3 id="current-authentication">10.3. Current Authentication</h3>
<div class="paragraph">
<p>The Current Authentication menu item displays your <code>Authentication</code> information, mostly for reference to see what a typical one contains:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_auth.png" alt="security info auth">
</div>
</div>
</div>
<div class="sect2">
<h3 id="user-cache">10.4. User Cache</h3>
<div class="paragraph">
<p>The User Cache menu item displays information about cached users if the feature is enabled (it is disabled by default).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_user_cache.png" alt="security info user cache">
</div>
</div>
</div>
<div class="sect2">
<h3 id="filter-chains">10.5. Filter Chains</h3>
<div class="paragraph">
<p>The Filter Chains menu item displays your configured Filter chains. It is possible to have multiple URL patterns each with its own filter chain, for example when using HTTP Basic Auth for a web service. By default since the 3.0.0 release the spring-security-core <code>s2-quickstart</code> script configures empty filter chains for static assets to avoid unnecessary security checks (although of course if you need to secure some or all of your static assets you should reconfigure these).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_filter_chains.png" alt="security info filter chains">
</div>
</div>
</div>
<div class="sect2">
<h3 id="logout-handlers">10.6. Logout Handlers</h3>
<div class="paragraph">
<p>The Logout Handlers menu item displays your registered <code>LogoutHandler</code>s. Typically there will be just the ones shown here, but you can register your own custom implementations, or a plugin might contribute more:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_logout_handlers.png" alt="security info logout handlers">
</div>
</div>
</div>
<div class="sect2">
<h3 id="voters">10.7. Voters</h3>
<div class="paragraph">
<p>The Voters menu item displays your registered <code>AccessDecisionVoter</code>s. Typically there will be just the ones shown here, but you can register your own custom implementations, or a plugin might contribute more:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_voters.png" alt="security info voters">
</div>
</div>
</div>
<div class="sect2">
<h3 id="authentication-providers">10.8. Authentication Providers</h3>
<div class="paragraph">
<p>The Authentication Providers menu item displays your registered <code>AuthenticationProvider</code>s. Typically there will be just the ones shown here, but you can register your own custom implementations, or a plugin (e.g. LDAP) might contribute more:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_providers.png" alt="security info providers">
</div>
</div>
</div>
<div class="sect2">
<h3 id="secure-channel-definition">10.9. Secure Channel Definition</h3>
<div class="paragraph">
<p>The Secure Channel Definition menu item displays your registered channel security mappings.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="security_info_secure_channel.png" alt="security info secure channel">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customization">11. Customization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most aspects of the plugin are configurable.</p>
</div>
<div class="sect2">
<h3 id="s2ui-override-script">11.1. s2ui-override script</h3>
<div class="paragraph">
<p>The plugin&#8217;s controllers and GSPs are easily overridden using the <code>s2ui-override</code> script. The general syntax for running the script is</p>
</div>
<div class="literalblock">
<div class="content">
<pre>grails s2ui-override &lt;type&gt; [&lt;controller-package&gt;]</pre>
</div>
</div>
<div class="paragraph">
<p>The script will copy an empty controller that extends the corresponding plugin controller into your application so you can override individual actions and methods as needed. It also copies the controller&#8217;s GSPs. The exceptions are 'auth' and 'layout' which only copy GSPs.</p>
</div>
<div class="paragraph">
<p>For <code>auth</code> and <code>layout</code>, you do not supply a package name.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>grails s2ui-override auth</pre>
</div>
</div>
<div class="paragraph">
<p>For the other types <code>aclclass</code>, <code>aclentry</code>, <code>aclobjectidentity</code>, <code>aclsid</code>, <code>persistentlogin</code>,<code>register</code>, <code>registrationcode</code>, <code>requestmap</code>, <code>role</code>, <code>securityinfo</code>, <code>user</code>, you supply a package name as command parameter. That it is to say:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>grails s2ui-override persistentlogin com.company.myapp</pre>
</div>
</div>
<div class="paragraph">
<p>The files copied for each type are summarized here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>aclclass</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/AclClassController.groovy</code></p>
</li>
<li>
<p><code>views/aclClass/create.gsp</code></p>
</li>
<li>
<p><code>views/aclClass/edit.gsp</code></p>
</li>
<li>
<p><code>views/aclClass/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>aclentry</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/AclEntryController.groovy</code></p>
</li>
<li>
<p><code>views/aclEntry/create.gsp</code></p>
</li>
<li>
<p><code>views/aclEntry/edit.gsp</code></p>
</li>
<li>
<p><code>views/aclEntry/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>aclobjectidentity</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/AclObjectIdentityController.groovy</code></p>
</li>
<li>
<p><code>views/aclObjectIdentity/create.gsp</code></p>
</li>
<li>
<p><code>views/aclObjectIdentity/edit.gsp</code></p>
</li>
<li>
<p><code>views/aclObjectIdentity/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>aclsid</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/AclSidController.groovy</code></p>
</li>
<li>
<p><code>views/aclSid/create.gsp</code></p>
</li>
<li>
<p><code>views/aclSid/edit.gsp</code></p>
</li>
<li>
<p><code>views/aclSid/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>auth</p>
<div class="ulist">
<ul>
<li>
<p><code>views/login/auth.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>layout</p>
<div class="ulist">
<ul>
<li>
<p><code>views/layouts/springSecurityUI.gsp</code></p>
</li>
<li>
<p><code>views/includes/_ajaxLogin.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>persistentlogin</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/PersistentLoginController.groovy</code></p>
</li>
<li>
<p><code>views/persistentLogin/edit.gsp</code></p>
</li>
<li>
<p><code>views/persistentLogin/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>register</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/RegisterController.groovy</code></p>
</li>
<li>
<p><code>views/layouts/email.gsp</code></p>
</li>
<li>
<p><code>views/register/forgotPassword.gsp</code></p>
</li>
<li>
<p><code>views/register/_forgotPasswordMail.gsp</code></p>
</li>
<li>
<p><code>views/register/register.gsp</code></p>
</li>
<li>
<p><code>views/register/resetPassword.gsp</code></p>
</li>
<li>
<p><code>views/register/_verifyRegistrationMail.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>registrationcode</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/RegistrationCodeController.groovy</code></p>
</li>
<li>
<p><code>views/registrationCode/edit.gsp</code></p>
</li>
<li>
<p><code>views/registrationCode/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>requestmap</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/RequestmapController.groovy</code></p>
</li>
<li>
<p><code>views/requestmap/create.gsp</code></p>
</li>
<li>
<p><code>views/requestmap/edit.gsp</code></p>
</li>
<li>
<p><code>views/requestmap/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>role</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/RoleController.groovy</code></p>
</li>
<li>
<p><code>views/role/create.gsp</code></p>
</li>
<li>
<p><code>views/role/edit.gsp</code></p>
</li>
<li>
<p><code>views/role/search.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>securityinfo</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/SecurityInfoController.groovy</code></p>
</li>
<li>
<p><code>views/securityInfo/config.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/currentAuth.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/filterChains.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/logoutHandlers.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/mappings.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/providers.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/secureChannel.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/usercache.gsp</code></p>
</li>
<li>
<p><code>views/securityInfo/voters.gsp</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>user</p>
<div class="ulist">
<ul>
<li>
<p><code>controller/UserController.groovy</code></p>
</li>
<li>
<p><code>views/user/create.gsp</code></p>
</li>
<li>
<p><code>views/user/edit.gsp</code></p>
</li>
<li>
<p><code>views/user/search.gsp</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="i18n">11.2. I18N</h3>
<div class="paragraph">
<p>All of the plugin&#8217;s displayed strings are localized and stored in the plugin&#8217;s <code>grails-app/i18n/messages.spring-security-ui.properties</code> file. You can override any of these values by putting an override in your application&#8217;s <code>grails-app/i18n/messages.properties</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="application-groovy-attributes">11.3. application.groovy attributes</h3>
<div class="paragraph">
<p>There are a few configuration options specified in <code>DefaultUiSecurityConfig.groovy</code> that can be overridden in your application&#8217;s <code>grails-app/conf/application.groovy</code></p>
</div>
<div class="sect3">
<h4 id="registration-attributes">11.3.1. Registration attributes</h4>
<div class="paragraph">
<p>These settings are used in the registration workflow; see the <a href="#userRegistration">User Registration</a> section for more details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>grails.plugin.springsecurity.ui.register.defaultRoleNames</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.register.emailBody</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.register.emailFrom</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.register.emailSubject</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.register.postRegisterUrl</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="forgot-password-attributes">11.3.2. Forgot Password attributes</h4>
<div class="paragraph">
<p>These settings are used in the forgot-password workflow; see the <a href="#forgotPassword">Forgot Password</a> section for more details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>grails.plugin.springsecurity.ui.forgotPassword.emailBody</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.forgotPassword.emailFrom</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.forgotPassword.emailSubject</p>
</li>
<li>
<p>grails.plugin.springsecurity.ui.forgotPassword.postResetUrl</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="gsp-layout-attributes">11.3.3. GSP layout attributes</h4>
<div class="paragraph">
<p>The <code>layout</code> attribute in the GSPs is configurable. If this is the only change you want to make in some or all of the GSPs then you can avoid copying the GSPs into your application just to make this change.</p>
</div>
<div class="paragraph">
<p>The default value for the registration workflow GSPs (<code>forgotPassword.gsp</code>, <code>register.gsp</code>, and <code>resetPassword.gsp</code>) is &#8220;register&#8221; and the default for the rest is &#8220;springSecurityUI&#8221;. These values can be overridden with the <code>grails.plugin.springsecurity.ui.gsp.layoutRegister</code> and <code>grails.plugin.springsecurity.ui.gsp.layoutUi</code> settings.</p>
</div>
</div>
<div class="sect3">
<h4 id="miscellaneous-attributes">11.3.4. Miscellaneous attributes</h4>
<div class="paragraph">
<p>The role name required to be able to run as another user defaults to <code>ROLE_SWITCH_USER</code> but you can override this name with the <code>grails.plugin.springsecurity.ui.switchUserRoleName</code> setting.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="css-and-javascript">11.4. CSS and JavaScript</h3>
<div class="paragraph">
<p>The plugin uses the <a href="http://grails.org/plugin/asset-pipeline">Asset Pipeline</a> plugin to manage its resources. This makes it very easy to provide your own version of some or all of the static resources since asset-pipeline will always use a file in the application&#8217;s <code>assets</code> directory instead of a plugin&#8217;s if it exists.</p>
</div>
<div class="paragraph">
<p>Instead of depending on either the jQuery or jQuery UI plugins, this plugin includes its own copy of jquery.js, jquery-ui.js, and jquery-ui.css. Note that the versions are not hard-coded, but instead they take advantage of the feature in asset-pipeline where you can embed Groovy code in a file to specify the name and path.</p>
</div>
<div class="paragraph">
<p>The layouts use <code>grails-app/assets/javascripts/jquery.js</code>, which contains this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">//=require jquery/jquery-${grails.plugin.springsecurity.ui.Constants.JQUERY_VERSION}.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>This resolves to <code>grails-app/assets/javascripts/jquery/jquery-2.1.4.js</code>, and to use your own version, either use the same approach in a file called <code>jquery.js</code> or rename your file to <code>jquery.js</code>.</p>
</div>
<div class="paragraph">
<p>Likewise for jQuery UI, the JavaScript file is <code>grails-app/assets/javascripts/jquery-ui.js</code>, which contains this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">//=require jquery-ui/jquery-ui-${grails.plugin.springsecurity.ui.Constants.JQUERY_UI_VERSION}.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the CSS file <code>grails-app/assets/stylesheets/jquery-ui.css</code>, which contains</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-css" data-lang="css">/*
 *= require smoothness/jquery-ui-${grails.plugin.springsecurity.ui.Constants.JQUERY_UI_VERSION}.css
 */</code></pre>
</div>
</div>
<div class="paragraph">
<p>The JavaScript file resolves to <code>grails-app/assets/javascripts/jquery-ui/jquery-ui-1.10.3.custom.js</code>, and to use your own version, either use the same approach in a file called <code>jquery-ui.js</code> or rename your file to <code>jquery-ui.js</code>.</p>
</div>
<div class="paragraph">
<p>The CSS file resolves to <code>grails-app/assets/stylesheets/smoothness/jquery-ui-1.10.3.custom.css</code>, and to use your own version, either use the same approach in a file called <code>jquery-ui.js</code> or rename your file to <code>jquery-ui.js</code>.</p>
</div>
<div class="paragraph">
<p>Use your own <code>jquery-ui.js</code> and/or <code>jquery-ui.css</code> to override the plugin&#8217;s.</p>
</div>
<div class="paragraph">
<p>The <code>springSecurityUI.gsp</code> layout includes <code>grails-app/assets/stylesheets/spring-security-ui.css</code>, which has no style declarations and only includes other CSS files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-css" data-lang="css">/*
 *= require reset.css
 *= require jquery-ui.css
 *= require jquery.jdMenu.css
 *= require jquery.jdMenu.slate.css
 *= require jquery.jgrowl.css
 *= require spring-security-ui-common.css
 */</code></pre>
</div>
</div>
<div class="paragraph">
<p>and <code>grails-app/assets/javascripts/spring-security-ui.js</code> which has no JavaScript code and only includes other JavaScript files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">//= require jquery.js
//= require jquery-ui.js
//= require jquery/jquery.jgrowl.js
//= require jquery/jquery.positionBy.js
//= require jquery/jquery.bgiframe.js
//= require jquery/jquery.jdMenu.js
//= require jquery/jquery.form.js
//= require spring-security-ui-ajaxLogin.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>register.gsp</code> layout layout includes <code>grails-app/assets/stylesheets/spring-security-ui-register.css</code>, which has no style declarations and only includes other CSS files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-css" data-lang="css">/*
 *= require reset.css
 *= require jquery-ui.css
 *= require jquery.jgrowl.css
 *= require spring-security-ui-common.css
 */</code></pre>
</div>
</div>
<div class="paragraph">
<p>and <code>grails-app/assets/javascripts/spring-security-ui-register.js</code> which has no JavaScript code and only includes other JavaScript files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">//= require jquery.js
//= require jquery-ui.js
//= require jquery/jquery.jgrowl.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>The remaining JavaScript files are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>grails-app/assets/javascripts/spring-security-ui-ajaxLogin.js</p>
</li>
<li>
<p>grails-app/assets/javascripts/jquery/jquery.bgiframe.js</p>
</li>
<li>
<p>grails-app/assets/javascripts/jquery/jquery.dataTables.js</p>
</li>
<li>
<p>grails-app/assets/javascripts/jquery/jquery.form.js</p>
</li>
<li>
<p>grails-app/assets/javascripts/jquery/jquery.jdMenu.js</p>
</li>
<li>
<p>grails-app/assets/javascripts/jquery/jquery.jgrowl.js</p>
</li>
<li>
<p>grails-app/assets/javascripts/jquery/jquery.positionBy.js</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and the remaining CSS files are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>grails-app/assets/stylesheets/jquery.dataTables.css</p>
</li>
<li>
<p>grails-app/assets/stylesheets/jquery.jdMenu.css</p>
</li>
<li>
<p>grails-app/assets/stylesheets/jquery.jdMenu.slate.css</p>
</li>
<li>
<p>grails-app/assets/stylesheets/jquery.jgrowl.css</p>
</li>
<li>
<p>grails-app/assets/stylesheets/reset.css</p>
</li>
<li>
<p>grails-app/assets/stylesheets/spring-security-ui-auth.css</p>
</li>
<li>
<p>grails-app/assets/stylesheets/spring-security-ui-common.css</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="password-hashing">11.5. Password Hashing</h3>
<div class="paragraph">
<p>In recent versions of the Spring Security Core plugin, the &#8220;User&#8221; domain class is generated by the <code>s2-quickstart</code> script with code to automatically hash the password. This makes the code simpler (for example in controllers where you create users or update user passwords) but older generated classes don&#8217;t have this generated code. This presents a problem for plugins like this one since it&#8217;s not possible to reliably determine if the domain class hashes the password or if you use the older approach of explicitly calling <code>springSecurityService.encodePassword()</code>.</p>
</div>
<div class="paragraph">
<p>The unfortunate consequence of mixing a newer domain class that does password hashing with controllers that call <code>springSecurityService.encodePassword()</code> is the the passwords get double-hashed, and users aren&#8217;t able to login. So to get around this there&#8217;s a configuration option you can set to tell this plugin&#8217;s controllers whether to hash or not: <code>grails.plugin.springsecurity.ui.encodePassword</code>.</p>
</div>
<div class="paragraph">
<p>This option defaults to <code>false</code>, so if you have an older domain class that doesn&#8217;t handle hashing just enable this plugin&#8217;s hashing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">grails.plugin.springsecurity.ui.encodePassword = true</code></pre>
</div>
</div>
<div class="paragraph">
<p>h4. Strategy classes</p>
</div>
<div class="paragraph">
<p>The plugin&#8217;s <code>SpringSecurityUiService</code> implements several &#8220;strategy&#8221; interfaces to make it possible to override its functionality in a more fine-grained way.</p>
</div>
<div class="paragraph">
<p>These are defined by interfaces in the <code>grails.plugin.springsecurity.ui.strategy</code> package:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AclStrategy</code></p>
</li>
<li>
<p><code>ErrorsStrategy</code></p>
</li>
<li>
<p><code>MailStrategy</code></p>
</li>
<li>
<p><code>PersistentLoginStrategy</code></p>
</li>
<li>
<p><code>PropertiesStrategy</code></p>
</li>
<li>
<p><code>QueryStrategy</code></p>
</li>
<li>
<p><code>RegistrationCodeStrategy</code></p>
</li>
<li>
<p><code>RequestmapStrategy</code></p>
</li>
<li>
<p><code>RoleStrategy</code></p>
</li>
<li>
<p><code>UserStrategy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The controllers, taglib, and even the service never call strategy methods directly on the service, only via a strategy interface.</p>
</div>
<div class="paragraph">
<p>Each interface has a default implementation, e.g. <code>DefaultAclStrategy</code>, <code>DefaultErrorsStrategy</code>, etc., and these simply delegate to <code>SpringSecurityUiService</code> (except for <code>MailStrategy</code>, which has <code>MailPluginMailStrategy</code> as its default implementation which uses the Mail plugin to send emails). Each of the default implementations is registered as a Spring bean:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>uiAclStrategy</code></p>
</li>
<li>
<p><code>uiErrorsStrategy</code></p>
</li>
<li>
<p><code>uiMailStrategy</code></p>
</li>
<li>
<p><code>uiPersistentLoginStrategy</code></p>
</li>
<li>
<p><code>uiPropertiesStrategy</code></p>
</li>
<li>
<p><code>uiQueryStrategy</code></p>
</li>
<li>
<p><code>uiRegistrationCodeStrategy</code></p>
</li>
<li>
<p><code>uiRequestmapStrategy</code></p>
</li>
<li>
<p><code>uiRoleStrategy</code></p>
</li>
<li>
<p><code>uiUserStrategy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To override the functionality defined in one of the strategy interfaces, register your own implementation of the interface in your application&#8217;s <code>grails-app/conf/spring/resources.groovy</code>, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import com.myapp.MyRequestmapStrategy

beans = {
   uiRequestmapStrategy(MyRequestmapStrategy)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and yours will be used instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="password-verification">11.6. Password Verification</h3>
<div class="paragraph">
<p>By default the registration controller has rather strict requirements for valid passwords; they must be between 8 and 64 characters and must include at least one uppercase letter, at least one number, and at least one symbol from &#8220;!@#$%^&amp;&#8221;. You can customize these rules with these application.groovy attributes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Property</strong></th>
<th class="tableblock halign-left valign-top"><strong>Default Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.plugin.springsecurity.ui.password.minLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.plugin.springsecurity.ui.password.maxLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.plugin.springsecurity.ui.password.validationRegex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"^.*(?=.*\\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&amp;]).*$"</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scripts">12. Scripts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="s2ui-override">12.1. s2ui-override</h3>
<div class="paragraph">
<div class="title">Purpose</div>
<p>Generates controllers that extend the plugin&#8217;s controllers and copies their GSPs to your application for overriding of functionality.</p>
</div>
<div class="paragraph">
<p>The general format is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>grails s2ui-override &lt;type&gt; [controllerPackage]</pre>
</div>
</div>
<div class="paragraph">
<p>The script will copy an empty controller that extends the corresponding plugin controller into your application so you can override individual actions and methods as needed. It also copies the controller&#8217;s GSPs. The exceptions are when type is 'auth' or 'layout' which only copy GSPs.</p>
</div>
<div class="paragraph">
<p>See the <a href="#customization">Customization</a> section for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="s2ui-create-challenge-questions">12.2. s2ui-create-challenge-questions</h3>
<div class="paragraph">
<div class="title">Purpose</div>
<p>Generates controllers, services, domain object, views, i18N, and application configuration to have challenge questions</p>
</div>
<div class="paragraph">
<p>The general format is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>grails s2ui-create-challenge-questions &lt;domain-class-package&gt; &lt;challenge-qa-class-name&gt; &lt;user-domain-class-name&gt; [number-of-questions]</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>domain-class-package is required and is the package where the Domain, Controller, and Services will be created.  It is recommend to use the same class where your 'User' class is created.</p>
</li>
<li>
<p>challenge-qa-class-name  is required and is the Name of the domain class used to store this information</p>
</li>
<li>
<p>user-domain-class-name is required and is the package and name of the User class.  It is recommend to ensure the first parameter is the same package as the User class.</p>
</li>
<li>
<p>number-of-questions is optional but if not given will default to 2.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Example: s2ui-create-challenge-questions com.mycompany Profile com.mycompany.User  4</pre>
</div>
</div>
<div class="paragraph">
<p>This script will create one Domain Class.  This will contain a link to the user and also contain one entry for each questions and answer.  If you pass in either no package or the same package as the what is used for the Challenge Question domain it will not put a package in front of the User class. However, if you pass in a different package then it will add the package in front of the user class.</p>
</div>
<div class="paragraph">
<p>This script will create one controller which contains all the logic for handling the actions needed to provide a user interface to manage different users challenge questions and answers.</p>
</div>
<div class="paragraph">
<p>This script will create two services.  The first service is to handle to be the implementation for the controller/domain object handling the data needed to set/get questions and answers.
The second service is a listener service which ensures that anytime an answer is created or updated the value is encypted before it is stores in the database.</p>
</div>
<div class="paragraph">
<p>This script will create three views.  Each of the three views (List/index, edit, and create) will support all the CRUD operations.</p>
</div>
<div class="paragraph">
<p>This script will add lines into your application.groovy file in order to ensure the questions and answers are properly configured.</p>
</div>
<div class="paragraph">
<p>This script will insert one line into messages.properties. This will be the menu item in the nav bar for spring security.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>spring.security.ui.menu.&lt;domain-class-package&gt;.&lt;challenge-qa-class-name&gt;=&lt;challenge-qa-class-name&gt; Questions"</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version unspecified<br>
Last updated 2022-09-07 14:26:36 +00:00
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>
</body>
</html>